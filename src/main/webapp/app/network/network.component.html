<div class="elements">
  <div class="options">
    <div>
      <select class="dropdownMenu">
        <option value="option1">Top Artists</option>
        <option value="option2">Playlist #1</option>
        <option value="option3">Playlist #2</option>
        <option value="option4">...</option>
      </select>
    </div>

    <div class="termButtons">
      <button class="button" [class.selected]="timeRange === 'short-term'" (click)="changeTimeRange('short-term')">Last Few Weeks</button>
      <button class="button" [class.selected]="timeRange === 'medium-term'" (click)="changeTimeRange('medium-term')">
        Last Few Months
      </button>
      <button class="button" [class.selected]="timeRange === 'long-term'" (click)="changeTimeRange('long-term')">Last Few Years</button>
    </div>

    <div class="showConnectionsCheckbox"><input type="checkbox" id="showConnectionsCheckbox" /> Show Connections</div>
  </div>

  <div class="content">
    <div class="graph" #graphContainer></div>
    <div class="stats">
      <div class="top-artist">
        <div class="stats-header">
          <span>Top Artist</span>
        </div>

        <div class="top-artist-container">
          <img [src]="topArtistImage" width="100px" height="100px" alt="Top Artist Image" id="topArtistImage" />
          <div class="sound-wave" *ngIf="isPlaying">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <!-- Add as many bars as you like -->
          </div>
          <div class="top-artist-text">
            <!-- Artist and Play Button -->
            <div *ngIf="topTrackName && topTrackPreviewUrl" class="artist-controls">
              <span id="topArtistName">{{ topArtistName }}</span>
              <button (click)="playPreview()" id="playButton">{{ isPlaying ? '❚❚' : '▶' }}</button>
            </div>
            <!-- Separate Track Name -->
            <div *ngIf="topTrackName && topTrackPreviewUrl" class="artist-track">
              <span id="topArtistTopTrack">{{ topTrackName }}</span>
            </div>
            <!-- Fallback if no track information is available -->
            <div *ngIf="!topTrackName || !topTrackPreviewUrl" class="artist-name-only">
              <span id="topArtistName">{{ topArtistName }}</span>
            </div>
          </div>
        </div>
      </div>

      <div class="top-genre">
        <div class="stats-header">
          <span>Top Genre</span>
        </div>

        <div class="top-genre-container">
          <div id="topGenre">{{ topGenre }}</div>
        </div>
      </div>

      <div class="mainstream-score">
        <div class="stats-header">
          <span>Mainstream Factor</span>
        </div>
        <div class="mainstream-score-container" *ngIf="tasteCategoryDetails">
          <div class="score-bar" [ngStyle]="{ 'background-color': tasteCategoryDetails.colorDark }">
            <div class="score-fill" [ngStyle]="{ width: averagePopularity, 'background-color': tasteCategoryDetails.colorLight }"></div>
            <span class="popularity-score">{{ averagePopularity }}</span>
          </div>
          <span class="taste-category">{{ tasteCategoryDetails.name }}</span>
        </div>
      </div>

      <div class="share">
        <button>Share Network...</button>
        <button>How It Works</button>
      </div>
    </div>
  </div>
</div>
