<div id="tableview-wrapper">
  <div id="sidebar" class="tbv-divs">
    <h2>Filters</h2>

    <!--
      <select [(ngModel)]="searchType" class="search-type-dropdown">
        <option value="both">Titles & Artists</option>
        <option value="title">Titles</option>
        <option value="artist">Artists</option>
      </select>

      -->

    <input style="width: 80%" type="text" pInputText [(ngModel)]="searchQuery" placeholder="Search..." (keydown.enter)="applySearch()" />
    <p-button style="width: 20%" icon="pi pi-search" (click)="applySearch()"></p-button>
    <p-dropdown
      [options]="searchTypes"
      [(ngModel)]="selectedSearchType"
      optionLabel="label"
      autoWidth="false"
      [style]="{ minWidth: '60%' }"
    ></p-dropdown>

    <!--

        tree code for filters to be done
      <div class="card flex flex-column align-items-center justify-content-center">
        <p-tree [value]="files" selectionMode="checkbox" class="w-full md:w-30rem" [(selection)]="selectedFiles"></p-tree>
    </div>
    -->
  </div>
  <div id="table-content" class="tbv-divs">
    <!--TODO: pull in a better theme for this. default theme set in angular.json. we should really roll our own-->
    <p-table
      [value]="filteredSongData"
      [paginator]="true"
      [rows]="10"
      [resizableColumns]="true"
      styleClass="p-datatable-striped"
      sortMode="multiple"
      [tableStyle]="{ 'min-width': '50rem' }"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pResizableColumn pSortableColumn="title">Title <p-sortIcon field="title"></p-sortIcon></th>
          <th pResizableColumn pSortableColumn="artist">Artist<p-sortIcon field="artist"></p-sortIcon></th>
          <th pResizableColumn pSortableColumn="length">Length<p-sortIcon field="length"></p-sortIcon></th>
          <th pResizableColumn pSortableColumn="release">Release Date<p-sortIcon field="release"></p-sortIcon></th>
          <th pResizableColumn pSortableColumn="popularity">Popularity<p-sortIcon field="popularity"></p-sortIcon></th>
          <th pResizableColumn pSortableColumn="explicit">Explicit<p-sortIcon field="explicit"></p-sortIcon></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-song>
        <tr class="p-selectable-row">
          <td>{{ song.title }}</td>
          <td>{{ song.artist }}</td>
          <td>{{ song.length }}</td>
          <td>{{ song.release }}</td>
          <td>{{ song.popularity }}</td>
          <td>{{ song.explicit }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
